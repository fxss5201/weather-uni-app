(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"5e6d":function(t,i,e){var a=e("6fd2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("6dff7b88",a,!0,{sourceMap:!1,shadowMode:!1})},"6fd2":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.content[data-v-9008ef22]{color:#333;font-size:%?28?%;text-align:center}.nav-list[data-v-9008ef22]{position:fixed;top:%?195?%;right:0;z-index:100;width:%?150?%;background-color:#fff;border:1px solid #c8c7cc;border-right:0;border-radius:%?12?% 0 0 %?12?%}.nav-list .item[data-v-9008ef22]{border-top:1px solid #c8c7cc;padding:%?20?% 0;text-align:center;cursor:pointer}.nav-list .item[data-v-9008ef22]:first-child{border-top:0}.nav-list .item.on[data-v-9008ef22]{color:#007aff}.info-title[data-v-9008ef22]{margin:0 %?15?%;padding:%?30?% 0;font-size:%?32?%;font-weight:700;text-align:left;border-bottom:1px solid #c8c7cc}.info-sub-title[data-v-9008ef22]{font-weight:700;color:#999;font-size:%?24?%}.list-info[data-v-9008ef22]{padding:%?15?%}.list-info .item[data-v-9008ef22]{padding:%?20?% 0;border-bottom:1px solid #c8c7cc}.list-all-info[data-v-9008ef22]{margin:0 %?15?%}.scroll-box[data-v-9008ef22]{white-space:nowrap}.scroll-box .scroll-item[data-v-9008ef22]{display:inline-block;width:%?200?%}.scroll-box .scroll-item .item-text[data-v-9008ef22]{padding:%?20?% 0;border-left:1px solid #c8c7cc;border-bottom:1px solid #c8c7cc}.scroll-box .scroll-item:first-child .item-text[data-v-9008ef22]{border-left:0}.all-time[data-v-9008ef22]{margin:0 %?15?%;padding:%?20?% 0 %?40?%}',""])},"85ea":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[t.storage_cityList.length>1?e("v-uni-view",{staticClass:"nav-list"},t._l(t.storage_cityList,function(i,a){return e("v-uni-view",{key:a,staticClass:"item",class:{on:a===t.current_index},on:{click:function(i){i=t.$handleEvent(i),t.changeCity(a)}}},[t._v(t._s(i.city||i.name))])}),1):t._e(),e("v-uni-view",{staticClass:"info-title"},[t._v("今日天气详情：")]),e("v-uni-view",{staticClass:"list-info"},[e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("今日天气："+t._s(t.weatherBaseInfo.weather))])],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("实时气温："+t._s(t.weatherBaseInfo.temperature)+"摄氏度")])],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("风向描述："+t._s(t.weatherBaseInfo.winddirection))])],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("风力级别："+t._s(t.weatherBaseInfo.windpower)+"级")])],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("空气湿度："+t._s(t.weatherBaseInfo.humidity))])],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{},[t._v("更新时间："+t._s(t.weatherBaseInfo.reporttime))])],1)],1),e("v-uni-view",{staticClass:"info-title"},[t._v("近几日天气预报"),e("v-uni-text",{staticClass:"info-sub-title"},[t._v("（天气现象、温度、风向、风力以白天/晚上格式显示）")]),t._v("：")],1),e("v-uni-view",{staticClass:"list-all-info"},[e("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-x":"true"}},[e("v-uni-view",{staticClass:"scroll-item"},[e("v-uni-view",{staticClass:"item-text"},[t._v("日期")]),e("v-uni-view",{staticClass:"item-text"},[t._v("星期")]),e("v-uni-view",{staticClass:"item-text"},[t._v("天气现象")]),e("v-uni-view",{staticClass:"item-text"},[t._v("温度")]),e("v-uni-view",{staticClass:"item-text"},[t._v("风向")]),e("v-uni-view",{staticClass:"item-text"},[t._v("风力")])],1),t._l(t.weatherAllInfo.casts,function(i,a){return e("v-uni-view",{key:a,staticClass:"scroll-item"},[e("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.date.slice(5)))]),e("v-uni-view",{staticClass:"item-text"},[t._v("周"+t._s(t.weekList[i.week]))]),e("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.dayweather)+"/"+t._s(i.nightweather))]),e("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.daytemp)+"℃/"+t._s(i.nighttemp)+"℃")]),e("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.daywind)+"/"+t._s(i.nightwind))]),e("v-uni-view",{staticClass:"item-text"},[t._v(t._s(i.daypower)+"级/"+t._s(i.nightpower)+"级")])],1)})],2)],1),e("v-uni-view",{staticClass:"all-time"},[t._v("更新时间："+t._s(t.weatherAllInfo.reporttime))])],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"8aa8":function(t,i,e){"use strict";e.r(i);var a=e("9e6e"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);i["default"]=n.a},"9e6e":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{cityInfo:{},loading:!1,weatherBaseInfo:{},weatherAllInfo:[],current_index:0,storage_cityList:[],weekList:["","一","二","三","四","五","六","末"]}},computed:{getTitle:function(){var t="";return this.cityInfo.city&&(t="".concat(this.cityInfo.city,"-天气预报")),this.cityInfo.name&&(t="".concat(this.cityInfo.name,"-天气预报")),this.cityInfo.city||this.cityInfo.name||(t="天气预报"),t}},onShow:function(){this.current_index=0,uni.setNavigationBarTitle({title:"天气预报"});try{var t=uni.getStorageSync("weather_storage_cityList");t&&t.length?(this.cityInfo=t[0],this.storage_cityList=t,uni.setNavigationBarTitle({title:this.getTitle}),this.getWeather("base"),this.getWeather("all")):this.getLocation()}catch(i){this.getLocation(),console.log(i)}},methods:{getLocation:function(){var t=this;this.loading=!0,uni.showLoading({title:"城市定位中..."}),uni.request({url:"https://restapi.amap.com/v3/ip",method:"GET",data:{key:"1155d2464abdf5c3a50d534a5591f293"},success:function(i){if(1==i.data.status){t.cityInfo=i.data,t.storage_cityList.push(t.cityInfo),uni.setNavigationBarTitle({title:t.getTitle}),t.getWeather("base"),t.getWeather("all");try{uni.setStorageSync("weather_storage_cityList",[t.cityInfo])}catch(e){console.log(e)}}else i.data.info&&uni.showModal({content:i.data.info,showCancel:!1});console.log(t.cityInfo)},fail:function(t){console.log("request fail",t),uni.showModal({content:"定位失败，请手动选择城市",showCancel:!1})},complete:function(){t.loading=!1,uni.hideLoading()}})},getWeather:function(t){var i=this;this.loading=!0,uni.showLoading({title:"获取天气信息..."}),uni.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",method:"GET",data:{key:"1155d2464abdf5c3a50d534a5591f293",city:this.cityInfo.adcode,extensions:t},success:function(e){console.log(e),1==e.data.status?"base"===t?i.weatherBaseInfo=e.data.lives[0]:"all"===t&&(i.weatherAllInfo=e.data.forecasts[0]):e.data.info&&uni.showModal({content:e.data.info,showCancel:!1})},fail:function(t){console.log("request fail",t),uni.showModal({content:"数据获取失败，请稍后重试",showCancel:!1})},complete:function(){i.loading=!1,uni.hideLoading()}})},changeCity:function(t){console.log(t),this.current_index=t,this.cityInfo=this.storage_cityList[t],uni.setNavigationBarTitle({title:this.getTitle}),this.getWeather("base"),this.getWeather("all")}}};i.default=a},db88:function(t,i,e){"use strict";var a=e("5e6d"),n=e.n(a);n.a},fd9a:function(t,i,e){"use strict";e.r(i);var a=e("85ea"),n=e("8aa8");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("db88");var o=e("2877"),c=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"9008ef22",null);i["default"]=c.exports}}]);