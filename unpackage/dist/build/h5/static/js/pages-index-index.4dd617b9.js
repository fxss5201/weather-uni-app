(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"13d5":function(t,e,i){var a=i("511e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2aff640e",a,!0,{sourceMap:!1,shadowMode:!1})},"511e":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.content[data-v-0a0a910e]{color:#333;font-size:%?28?%;text-align:center}.nav-list[data-v-0a0a910e]{position:fixed;top:%?195?%;right:0;z-index:100;width:%?150?%;background-color:#fff;border:1px solid #c8c7cc;border-right:0;border-radius:%?12?% 0 0 %?12?%}.nav-list .item[data-v-0a0a910e]{border-top:1px solid #c8c7cc;padding:%?20?% 0;text-align:center;cursor:pointer}.nav-list .item[data-v-0a0a910e]:first-child{border-top:0}.nav-list .item.on[data-v-0a0a910e]{color:#007aff}.info-title[data-v-0a0a910e]{margin:0 %?15?%;padding:%?30?% 0;font-size:%?32?%;font-weight:700;text-align:left;border-bottom:1px solid #c8c7cc}.info-sub-title[data-v-0a0a910e]{font-weight:700;color:#999;font-size:%?24?%}.list-info[data-v-0a0a910e]{padding:%?15?%}.list-info .item[data-v-0a0a910e]{padding:%?20?% 0;border-bottom:1px solid #c8c7cc}.list-all-info[data-v-0a0a910e]{margin:0 %?15?%}.scroll-box[data-v-0a0a910e]{white-space:nowrap}.scroll-box .scroll-item[data-v-0a0a910e]{display:inline-block;width:%?200?%}.scroll-box .scroll-item .item-text[data-v-0a0a910e]{padding:%?20?% 0;border-left:1px solid #c8c7cc;border-bottom:1px solid #c8c7cc}.scroll-box .scroll-item:first-child .item-text[data-v-0a0a910e]{border-left:0}.all-time[data-v-0a0a910e]{margin:0 %?15?%;padding:%?20?% 0 %?40?%}',""])},"7e62":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[t.storage_cityList.length>1?i("v-uni-view",{staticClass:"nav-list"},t._l(t.storage_cityList,function(e,a){return i("v-uni-view",{key:a,staticClass:"item",class:{on:a===t.current_index},on:{click:function(e){e=t.$handleEvent(e),t.changeCity(a)}}},[t._v(t._s(e.city||e.name))])}),1):t._e(),i("v-uni-view",{staticClass:"info-title"},[t._v("今日天气详情：")]),i("v-uni-view",{staticClass:"list-info"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("今日天气："+t._s(t.weatherBaseInfo.weather))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("实时气温："+t._s(t.weatherBaseInfo.temperature)+"摄氏度")])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("风向描述："+t._s(t.weatherBaseInfo.winddirection))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("风力级别："+t._s(t.weatherBaseInfo.windpower)+"级")])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("空气湿度："+t._s(t.weatherBaseInfo.humidity))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{},[t._v("更新时间："+t._s(t.weatherBaseInfo.reporttime))])],1)],1),i("v-uni-view",{staticClass:"info-title"},[t._v("近几日天气预报"),i("v-uni-text",{staticClass:"info-sub-title"},[t._v("（天气现象、温度、风向、风力以白天/晚上格式显示）")]),t._v("：")],1),i("v-uni-view",{staticClass:"list-all-info"},[i("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-x":"true"}},[i("v-uni-view",{staticClass:"scroll-item"},[i("v-uni-view",{staticClass:"item-text"},[t._v("日期")]),i("v-uni-view",{staticClass:"item-text"},[t._v("星期")]),i("v-uni-view",{staticClass:"item-text"},[t._v("天气现象")]),i("v-uni-view",{staticClass:"item-text"},[t._v("温度")]),i("v-uni-view",{staticClass:"item-text"},[t._v("风向")]),i("v-uni-view",{staticClass:"item-text"},[t._v("风力")])],1),t._l(t.weatherAllInfo.casts,function(e,a){return i("v-uni-view",{key:a,staticClass:"scroll-item"},[i("v-uni-view",{staticClass:"item-text"},[t._v(t._s(e.date.slice(5)))]),i("v-uni-view",{staticClass:"item-text"},[t._v("周"+t._s(t.weekList[e.week]))]),i("v-uni-view",{staticClass:"item-text"},[t._v(t._s(e.dayweather)+"/"+t._s(e.nightweather))]),i("v-uni-view",{staticClass:"item-text"},[t._v(t._s(e.daytemp)+"℃/"+t._s(e.nighttemp)+"℃")]),i("v-uni-view",{staticClass:"item-text"},[t._v(t._s(e.daywind)+"/"+t._s(e.nightwind))]),i("v-uni-view",{staticClass:"item-text"},[t._v(t._s(e.daypower)+"级/"+t._s(e.nightpower)+"级")])],1)})],2)],1),i("v-uni-view",{staticClass:"all-time"},[t._v("更新时间："+t._s(t.weatherAllInfo.reporttime))])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"8aa8":function(t,e,i){"use strict";i.r(e);var a=i("9e6e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},9445:function(t,e,i){"use strict";var a=i("13d5"),n=i.n(a);n.a},"9e6e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{cityInfo:{},loading:!1,weatherBaseInfo:{},weatherAllInfo:[],current_index:0,storage_cityList:[],weekList:["","一","二","三","四","五","六","末"]}},computed:{getTitle:function(){var t="";return this.cityInfo.city&&(t="".concat(this.cityInfo.city,"-天气预报")),this.cityInfo.name&&(t="".concat(this.cityInfo.name,"-天气预报")),this.cityInfo.city||this.cityInfo.name||(t="天气预报"),t}},onShow:function(){this.current_index=0,uni.setNavigationBarTitle({title:"天气预报"});try{var t=uni.getStorageSync("weather_storage_cityList");t&&t.length?(this.cityInfo=t[0],this.storage_cityList=t,uni.setNavigationBarTitle({title:this.getTitle}),this.getWeather("base"),this.getWeather("all")):this.getLocation()}catch(e){this.getLocation(),console.log(e)}},onPullDownRefresh:function(){console.log("onPullDownRefresh"),this.getWeather("base","closePullDownRefresh"),this.getWeather("all","closePullDownRefresh")},onNavigationBarButtonTap:function(t){0===t.index?uni.switchTab({url:"/pages/cityList/cityList"}):uni.switchTab({url:"/pages/setting/setting"})},methods:{getLocation:function(){var t=this;this.loading=!0,uni.showLoading({title:"城市定位中..."}),uni.request({url:"https://restapi.amap.com/v3/ip",method:"GET",data:{key:"1155d2464abdf5c3a50d534a5591f293"},success:function(e){if(1==e.data.status){t.cityInfo=e.data,t.storage_cityList.push(t.cityInfo),uni.setNavigationBarTitle({title:t.getTitle}),t.getWeather("base"),t.getWeather("all");try{uni.setStorageSync("weather_storage_cityList",[t.cityInfo])}catch(i){console.log(i)}}else e.data.info&&uni.showModal({content:e.data.info,showCancel:!1})},fail:function(t){console.log("request fail",t),uni.showModal({content:"定位失败，请手动选择城市",showCancel:!1})},complete:function(){t.loading=!1,uni.hideLoading()}})},getWeather:function(t,e){var i=this;this.loading=!0,uni.showLoading({title:"获取天气信息..."}),uni.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",method:"GET",data:{key:"1155d2464abdf5c3a50d534a5591f293",city:this.cityInfo.adcode,extensions:t},success:function(e){1==e.data.status?"base"===t?i.weatherBaseInfo=e.data.lives[0]:"all"===t&&(i.weatherAllInfo=e.data.forecasts[0]):e.data.info&&uni.showModal({content:e.data.info,showCancel:!1})},fail:function(t){console.log("request fail",t),uni.showModal({content:"数据获取失败，请稍后重试",showCancel:!1})},complete:function(){i.loading=!1,uni.hideLoading(),"closePullDownRefresh"===e&&uni.stopPullDownRefresh()}})},changeCity:function(t){this.current_index=t,this.cityInfo=this.storage_cityList[t],uni.setNavigationBarTitle({title:this.getTitle}),this.getWeather("base"),this.getWeather("all")}}};e.default=a},fd9a:function(t,e,i){"use strict";i.r(e);var a=i("7e62"),n=i("8aa8");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("9445");var o=i("2877"),c=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"0a0a910e",null);e["default"]=c.exports}}]);